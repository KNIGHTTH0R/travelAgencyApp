{# templates/frontoffice/circuitshow.html.twig #}
{#
  {{ dump(circuit) }}
#}

{% extends "frontoffice/baselayout.html.twig" %}

  {% block title %}{{ parent() }} - Details for circuit {{ id }}{% endblock %}
{% block body %}
  <h1>{{ circuit.description }}</h1>

	<h2>Détails</h2>
			<!--
			<p>Description: {{ circuit.description }}</p>
			-->
	 		<p>Départ de {{ circuit.villeDepart }} pour {{ circuit.dureeCircuit }} jours
         de voyage à travers l'{{ circuit.paysDepart }}, pour terminer à
         {{ circuit.villeArrivee }}.</p>
<!--Ajout de la liste des étapes d'un circuit-->
			<p>Liste des étapes:</p>
				<ul>
				{% for etape in circuit.getEtapes() %}
					<li>
						<p>Etape à {{ etape.villeEtape }} pendant {{ etape.nombreJours }} jours. </p>
					</li>
				{% endfor %}
				</ul>

  {% if circuit.programmations is not empty %}
  <h2>Programmations de ce circuit</h2>
  {# <pre>{{ dump(circuit) }}</pre> #}
     	<table>
     	 		<thead>
     					<tr>
     				    	<th>Date de départ</th>
     						  <th>Nombre de personnes</th>
     						  <th>Prix</th>
     					</tr>
     				</thead>
     		{%  for programmation in circuit.programmations %}
     			<tr>
     			   <td>{{ programmation.dateDepart|date('d-m-Y')  }}</td>
     			   <td>{{ programmation.nombrePersonnes }}</td>
     			   <td>{{ programmation.prix }} euros</td>
     			</tr>
     		{% endfor %}
     		</table>
    {% else %}
    <p>Désolé : pas encore de programmations pour ce circuit.</p>
    {% endif %}

{% endblock %}
